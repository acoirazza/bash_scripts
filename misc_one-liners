
# You can pipe a script's output through a loop to prefix a timestamp:
./script.sh | while IFS= read -r line; do echo "$(date) $line"; done >>/var/log/logfile

# loop until ping succeeds
 ls /d &> /dev/null; while [ $? -ne 0 ]; do sleep 1; echo "pinging..."; ping -c2 192.168.101.2 &> /dev/null; done; echo "done"
